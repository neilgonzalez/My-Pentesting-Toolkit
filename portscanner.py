import socket
import subprocess
import sys
from datetime import datetime



sysIp = raw_input("enter machine's IP address: ")
currTime = datetime.now()
print("scanning...")

try:
	for x in range(0, 1023):
		sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
		attempt = sock.connect_ex((sysIp, x))
		if attempt == 0:
			print("port found at " + str(x) + ". " + "service: " + socket.getservbyport(x))
		sock.close()
		
except socket.error as err:
	print ("host could not be resolved")
	
afterTime = datetime.now()
scanTime = afterTime - scanTime
print ("scan completed in : " + "scanTime")